{% extends 'base.html' %}
{% load widget_tweaks %}

{% block title %}Adicionar Novo Curso | VelozAcademy{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="py-5 bg-dark border-bottom">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <h1 class="display-5 fw-bold mb-3">Adicionar Novo Curso</h1>
                <p class="lead mb-0">Preencha o formulário abaixo para adicionar um novo curso à plataforma.</p>
            </div>
        </div>
    </div>
</section>

<!-- Form Section -->
<section class="py-5 bg-dark">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="card bg-dark-subtle border-0 shadow-sm">
                    <div class="card-body p-4">
                        <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
                            {% csrf_token %}
                            
                            <!-- Título -->
                            <div class="mb-4">
                                <label for="{{ form.titulo.id_for_label }}" class="form-label fw-semibold">Título do Curso*</label>
                                {{ form.titulo|add_class:"form-control bg-dark text-light border-secondary" }}
                                <div class="form-text">O título deve ser descritivo e específico.</div>
                                {% if form.titulo.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.titulo.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <!-- Descrição -->
                            <div class="mb-4">
                                <label for="{{ form.descricao.id_for_label }}" class="form-label fw-semibold">Descrição*</label>
                                {{ form.descricao|add_class:"form-control bg-dark text-light border-secondary" }}
                                <div class="form-text">Descreva o conteúdo e objetivos do curso.</div>
                                {% if form.descricao.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.descricao.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <!-- Categoria e Nível -->
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <label for="{{ form.categoria.id_for_label }}" class="form-label fw-semibold">Categoria*</label>
                                    {{ form.categoria|add_class:"form-control bg-dark text-light border-secondary" }}
                                    <div class="form-text">{{ form.categoria.help_text }}</div>
                                    {% if form.categoria.errors %}
                                    <div class="invalid-feedback d-block">
                                        {{ form.categoria.errors }}
                                    </div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6">
                                    <label for="{{ form.nivel.id_for_label }}" class="form-label fw-semibold">Nível de Dificuldade*</label>
                                    {{ form.nivel|add_class:"form-select bg-dark text-light border-secondary" }}
                                    <div class="form-text">Selecione o nível de conhecimento necessário.</div>
                                    {% if form.nivel.errors %}
                                    <div class="invalid-feedback d-block">
                                        {{ form.nivel.errors }}
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                            
                            <!-- Tipo de Conteúdo -->
                            <div class="mb-4">
                                <label for="{{ form.tipo_conteudo.id_for_label }}" class="form-label fw-semibold">Tipo de Conteúdo*</label>
                                {{ form.tipo_conteudo|add_class:"form-select bg-dark text-light border-secondary" }}
                                <div class="form-text">Selecione os tipos de conteúdo que o curso terá.</div>
                                {% if form.tipo_conteudo.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.tipo_conteudo.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <!-- Preço e Desconto -->
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <label for="{{ form.preco.id_for_label }}" class="form-label fw-semibold">Preço (R$)*</label>
                                    {{ form.preco|add_class:"form-control bg-dark text-light border-secondary" }}
                                    <div class="form-text">Valor do curso em reais.</div>
                                    {% if form.preco.errors %}
                                    <div class="invalid-feedback d-block">
                                        {{ form.preco.errors }}
                                    </div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6">
                                    <label for="{{ form.desconto.id_for_label }}" class="form-label fw-semibold">Desconto (R$)</label>
                                    {{ form.desconto|add_class:"form-control bg-dark text-light border-secondary" }}
                                    <div class="form-text">Valor do desconto aplicado (se houver).</div>
                                    {% if form.desconto.errors %}
                                    <div class="invalid-feedback d-block">
                                        {{ form.desconto.errors }}
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                            
                            <!-- Imagem -->
                            <div class="mb-4">
                                <label for="{{ form.imagem.id_for_label }}" class="form-label fw-semibold">Imagem de Capa</label>
                                {{ form.imagem|add_class:"form-control bg-dark text-light border-secondary" }}
                                <div class="form-text">Imagem de capa do curso (formato recomendado: 16:9).</div>
                                {% if form.imagem.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.imagem.errors }}
                                </div>
                                {% endif %}
                            </div>
                            
                            <!-- Submit Button -->
                            <div class="d-flex justify-content-between align-items-center mt-5">
                                <a href="{% url 'cursos:lista' %}" class="btn btn-outline-secondary">Cancelar</a>
                                <button type="submit" class="btn btn-primary btn-lg">Adicionar Curso</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %} 